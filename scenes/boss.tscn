[gd_scene load_steps=7 format=3 uid="uid://bae1tguqe0bvy"]

[ext_resource type="Texture2D" uid="uid://3l7frr5xy8da" path="res://sprites/boss_sprite_placeholder.png" id="1_1h8k5"]
[ext_resource type="Script" path="res://scripts/boss.gd" id="1_r0nu2"]
[ext_resource type="Script" path="res://scripts/BossHPBar.gd" id="3_es2fp"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_pq4ww"]
bg_color = Color(0.545098, 0, 0, 1)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_n4dim"]
bg_color = Color(0, 0, 0, 1)
border_width_left = 5
border_width_top = 5
border_width_right = 5
border_width_bottom = 5
border_color = Color(0.388235, 0.380392, 0.388235, 1)
expand_margin_left = 5.0
expand_margin_top = 5.0
expand_margin_right = 5.0
expand_margin_bottom = 5.0

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_nocck"]
bg_color = Color(1, 0, 0, 1)

[node name="Boss" type="StaticBody2D"]
collision_layer = 2
script = ExtResource("1_r0nu2")

[node name="Sprite2D" type="Sprite2D" parent="."]
texture = ExtResource("1_1h8k5")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="."]
polygon = PackedVector2Array(82, -120.4, 82, -119, 92, -111, 92, -107.4, 100, -87.4, 100, -80, 104.5, -62.9, 121, -57.4, 121, -55.6, 125, -49.6, 125, 87.8, 124.7, 90, 122.8, 90, 118.8, 94, 99, 94, 99, 91.8, 95, 87.8, 95, 78.5, 92, 72.5, 92, 57.9, 81.7, 57.1, 79, 59.8, 79, 70, 80.1, 90, 78.7, 90, 75.6, 104, 74.3, 104, 67.3, 120, 65.8, 120, 60.8, 125, 19.7, 125, 8, 105.6, 8, 102, 4.5, 88, -7.1, 88, -23, 86.9, -23, 84.9, -28.7, 80, -53, 80, -62.6, 109, -64.1, 109, -76.1, 122, -81, 122, -103, 123, -103, 121, -118, 109, -118, 106.5, -125, 94, -125, 7.7, -124.9, 4, -123.9, 4, -119.8, -47, -118.5, -47, -116.6, -55, -115.1, -55, -112.1, -60, -109.3, -60, -105, -60.7, -92.8, -73, -89.4, -73, -72, -76.7, -46.1, -116, -43.5, -116, -33.6, -123, -30.4, -123, -25.1, -125, 68.2, -125)

[node name="AttackChangeTimer" type="Timer" parent="."]
wait_time = 5.0

[node name="Boss HP Bar" type="CanvasLayer" parent="."]

[node name="ProgressBar" type="ProgressBar" parent="Boss HP Bar"]
anchors_preset = -1
anchor_left = 0.342
anchor_top = 0.06
anchor_right = 0.342
anchor_bottom = 0.06
offset_left = -645.64
offset_top = 966.2
offset_right = 1252.36
offset_bottom = 1005.2
theme_override_styles/fill = SubResource("StyleBoxFlat_pq4ww")
max_value = 1000.0
value = 1000.0
show_percentage = false
script = ExtResource("3_es2fp")
metadata/_edit_group_ = true

[node name="ProgressBar2" type="ProgressBar" parent="Boss HP Bar/ProgressBar"]
show_behind_parent = true
layout_mode = 1
anchors_preset = -1
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/background = SubResource("StyleBoxFlat_n4dim")
theme_override_styles/fill = SubResource("StyleBoxFlat_nocck")
max_value = 1000.0
value = 1000.0
show_percentage = false

[node name="Timer" type="Timer" parent="Boss HP Bar/ProgressBar"]
wait_time = 0.308
one_shot = true

[connection signal="timeout" from="AttackChangeTimer" to="." method="_on_attack_change_timer_timeout"]
[connection signal="timeout" from="Boss HP Bar/ProgressBar/Timer" to="Boss HP Bar/ProgressBar" method="_on_timer_timeout" flags=18]
